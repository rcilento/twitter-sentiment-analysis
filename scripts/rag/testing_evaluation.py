from generate_rag_insights import evaluate_rag_response
from dotenv import load_dotenv


if __name__ == '__main__':
    load_dotenv()
    question = "2. What are the main aspects of our service, flight experience, and customer interactions that are positively received according to the positive tweets? Use tweets with positive and neutral sentiments to identify areas where AirFrance excels and suggest ways to further strengthen these positive aspects and strategies to leverage this positive feedback."
    answer = "### Summary of Positive Aspects\n\nThe positive tweets about AirFrance highlight several key aspects of their service and customer interactions that are well-received:\n\n1. **Customer Service Excellence**: Many tweets commend the cabin crew for their friendliness and attentiveness. Passengers express satisfaction with the level of service provided during flights.\n   \n2. **In-Flight Experience**: The in-flight entertainment and food offerings receive positive remarks, with some tweets specifically mentioning the quality and enjoyment of the meals.\n\n3. **Social Media Responsiveness**: AirFrance's active engagement on social media is appreciated, with customers noting quick responses to inquiries and issues.\n\n4. **Ground Staff Performance**: Positive experiences with ground staff, particularly in locations like Bordeaux and Strasbourg, are highlighted, indicating a high level of service at airports.\n\n### Actionable Insights\n\nBased on the positive feedback, AirFrance can focus on the following areas to strengthen their service:\n\n1. **Enhance Training for Cabin Crew**: Continue to invest in training programs that emphasize customer service skills, ensuring that all crew members maintain the high standards that customers appreciate.\n\n2. **Promote In-Flight Offerings**: Leverage the positive feedback on in-flight meals and entertainment by promoting these aspects in marketing campaigns. Consider introducing seasonal or themed menus to keep the offerings fresh and exciting.\n\n3. **Maintain Social Media Engagement**: Continue to prioritize responsiveness on social media platforms. Consider implementing a dedicated team to handle customer inquiries and feedback, ensuring that all interactions are timely and helpful.\n\n4. **Recognize and Reward Ground Staff**: Acknowledge the efforts of ground staff who receive positive feedback. Implementing a recognition program can motivate staff and encourage continued excellence in customer service.\n\n### Tweet Examples\n\n1. \"@airfrance is taking customer satisfaction seriously. the service on my flight was magnifique! #af0322\"\n   \n2. \"thx ludovic savini @airfrance flight #af7703 today. never seen this high level of customer service & attention with an airline. ?? so much!\"\n\n3. \"@airfrance domestic & ground staff in bordeaux fantastic. gifts I forgot on flight from paris was kept for two weeks. #serviceexcellence\"\n\nBy focusing on these strengths and implementing the suggested strategies, AirFrance can further enhance customer satisfaction and loyalty."
    context= "[Document(id='b7e95fc1-6be5-471d-9702-901f10b8cebb', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='how air france is taking social customer service up a notch '), Document(id='4db0bef4-7762-4db8-9e56-7eb8a07af460', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance is taking customer satisfaction seriously. the service on my flight was magnifique! #af0322'), Document(id='5d934454-281d-48d8-bc96-980cc77cae16', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='i\\'m really happy &amp satisfied w/ the service i was provided by @airfrance. the cabin crew were extremely nice and we… \"'), Document(id='5d9b0028-74a7-45e1-8eec-fad03076517d', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance we made it. the positive news is your flight staff was delightful! orly airport....not so much!'), Document(id='ca7440da-905e-44fe-abe3-5ea8cdf53ccb', metadata={'language': 'en', 'sentiment': 'Negative'}, page_content='@airfrance to recap: garbage experience with @airfrance in person and here on twitter.'), Document(id='96b7cd6a-490f-4758-a514-e1ace654510a', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='thx ludovic savini @airfrance flight #af7703 today. never seen this high level of customer service &amp attention with an airline.  ?? so much!\"'), Document(id='e1cd44e9-3881-41e9-843b-76d36918236f', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='#appreciate companies that respond to social media @airfrance thank you for looking into an issue and caring about customers'), Document(id='5f19704c-4c98-46ee-8556-d064e0ea094f', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='i have to say while things do go wrong @airfrance the guys who run their twitter are great! thanks for all your quick responses!'), Document(id='10a53fb7-b682-4ca1-b121-582e8a4573e5', metadata={'language': 'en', 'sentiment': 'Negative'}, page_content='@airfrance i am now finally onboard, but the customer experience today has thus far left a lot to desired...'), Document(id='ef7ceae6-c35e-4afb-8617-d8e036229298', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='#airfrance has amazing in flight entertainment! service was great...??????????  '), Document(id='4aa60123-4a21-43ac-82d8-1938730291fe', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance domestic &amp ground staff in bordeaux fantastic. gifts i forgot on flight from paris was kept for two weeks. #serviceexcellence\"'), Document(id='1989c8de-e868-4c96-96c3-d8a2fefa0c7e', metadata={'language': 'en', 'sentiment': 'Negative'}, page_content='@airfrance customer service'), Document(id='c711f456-d65f-4524-855c-1d832bad8ce0', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance @klm sees positive air traffic trend  #aviation #iata #passengers #inflight #interline'), Document(id='c6cf40c3-448b-467c-be99-84f5118d2e29', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='i\\'m really happy &amp satisfied w/ the service i was provided by @airfrance. the cabin crew was extremely nice and welcoming.bon 14 juillet!????\"'), Document(id='c970b010-930e-4723-a47a-e6c5705f8919', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content=\"@delta @airfrance again, service by airlines was great. very pleasant. they can't control the airport congestion, b… \"), Document(id='14a19a0e-f402-44ba-a5a1-e096c4cdf6a7', metadata={'language': 'en', 'sentiment': 'Negative'}, page_content='@airfrance do you have any tips for getting a response from customer service? you left our infant seat and stroller at cdg'), Document(id='7b8b04b3-6a0b-4c22-b8c8-cf05e5f42638', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='.@airfrance somehow managing to make the #ttc look like the pinnacle of customer service and efficiency.'), Document(id='f7d2b2d4-5a39-4205-aba3-20124f78cd9d', metadata={'language': 'en', 'sentiment': 'Neutral'}, page_content='[ backstage #inflightfeed \\'s testing : new boulangerie &amp #menusalacarte  #airfrance #servair customers proposals ]… \"'), Document(id='a4056654-c596-469c-9558-b944f75bea3d', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance combines french savoir-faire and clogged ears on take-off in a fun #marketing experience for flyers.… '), Document(id='9a68e353-8b7c-43fb-b2f4-a87817411746', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='oh @airfrance! so so good :) '), Document(id='0f256ebc-3c02-4459-9bd7-47df02f58e06', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@kislanykim @airfrance i has a similar experience with them last year on my lax-cdg flight. @airfrance is impressive. ????'), Document(id='759e9258-923f-45e6-a5be-2a53921aeea9', metadata={'language': 'en', 'sentiment': 'Neutral'}, page_content='@airfrance thanks for the message. why not hire more people &amp hand out snacks? snacks improve most situations\"'), Document(id='eacfd54e-a1d6-42e0-8c19-0d8848619dae', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='getting the most out of this trip courtesy of @airfrance '), Document(id='4a22ab26-de17-4441-b3ec-1746f64e15ba', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='6 reasons air france la premiere is simply fantastique !  #luxury #france'), Document(id='6a3cb134-cfe3-4047-8278-61a0c929e4a5', metadata={'language': 'en', 'sentiment': 'Neutral'}, page_content='air france in turmoil, twitter returns to its roots - business line (pls rt???) ??  #directors'), Document(id='d25f522e-282f-4226-940e-a82134ae9fa3', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='air france puts the fun back in flying  via @po_st'), Document(id='3dbeccc0-fd1a-489e-a61d-b61fd383e4f4', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance\\'s new in-flight offering is super french, super delicious and super-cool\":  #evokad\"'), Document(id='35500d05-93bf-42d2-b467-f20d62d892d8', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content=\"@airfrance i'm already impressed, now this? a tasty example of improving customer #experience: a gum made for flight \"), Document(id='b5749a0d-4d48-47e2-8234-a1cb1b4d98dc', metadata={'language': 'en', 'sentiment': 'Negative'}, page_content='@airfrance have a look on this!  be more respectful and indulgent with customers #worstairline  #société via @lepoint'), Document(id='a9ba8c32-dcc8-4477-a6fc-eceed2f2d1c9', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='you should love your airline #airfrance#tegel#airport '), Document(id='e7a46108-1590-4cca-af97-a661f3786e1a', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content=\"@ air france you're making delta look better at the moment\"), Document(id='094229c7-f349-4df8-b4f8-e18f05beece7', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='gotta love the @airfrance answer to @flyairnz boiled lollies:  #travel #airline #marketing'), Document(id='b51ece8e-edf7-4710-88cb-8cbf0628f33c', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thank you'), Document(id='1ae7b2bc-3149-4737-a00d-4e088934f15b', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thank you'), Document(id='ef831157-871f-4d61-b6cf-4d9024a50967', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thank you'), Document(id='e658aad9-fee4-4120-b0b4-122439d774c1', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thank you'), Document(id='6f3cb3e5-c79f-47ca-ac9f-d7d7d1be235c', metadata={'language': 'en', 'sentiment': 'Neutral'}, page_content='@vinifromparis post your @airfrance complaint on  to hold them accountable and get results. #airlinecomplaints'), Document(id='28853b8f-3eef-45f4-9ed6-5d4b616e4b1d', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance cheers!'), Document(id='7af05153-2a58-42be-8927-c037165f4ff0', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thanks!'), Document(id='1e04ed1b-6c8b-4bb2-99b6-6a9db3239bbc', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance thanks!'), Document(id='5f849df3-8aa1-4163-b640-ed1e3b5e8368', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@aireuropa i just tweet to say where are you? have faith in both @aireuropa + @airfrance to have big enough teams t… '), Document(id='9178a0c5-e47c-4823-9a6f-01e59bad1bca', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance  could learn a lot from @swissport staff!'), Document(id='9e0580b9-15e2-4cf5-8698-cef20894346f', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='|marketing| air france is on the spotlight this month, we love their creativity ! the company which has... '), Document(id='51273aac-6272-4e3e-9cff-d1cbad3870a0', metadata={'language': 'en', 'sentiment': 'Neutral'}, page_content='xs baggage, sacre bleu ! (@ air france customer service) '), Document(id='ef6e50b3-b7e6-43e6-977d-b9439607285f', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='air france staff at strasbourg station could not be more pleasant or helpful - in an impressive variety of languages!'), Document(id='e5d9d38f-7b07-4fe0-b29a-5ceda263fad2', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance have a good weekend'), Document(id='494a91fe-0413-4d62-8fd8-15eb628c3a7a', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance have a good weekend'), Document(id='87678614-8d81-4652-bb63-fed06d1c112c', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@airfrance your airplanes smell so nice??'), Document(id='703ca1bd-96f1-44f6-ac7f-442b0d0348d7', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='awesome flight on the new air france 787 dreamliner :) best crew !!! @airfrance'), Document(id='2bddf7d7-670c-4601-becf-ad7fc0365645', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='@eryno @airfrance you are having a tough end of trip! other parts were good.')]"

    no_sense_answer = "A vector store is a system that manages and stores data in the form of vectors. It's also known as a vector database or vector search engine. Vector stores are used in applications like machine learning, AI, and data analytics."
    no_sense_context = "[Document(id='b7e95fc1-6be5-471d-9702-901f10b8cebb', metadata={'language': 'en', 'sentiment': 'Positive'}, page_content='I ate a banana')]"
    no_sense_question = ("What is a vector store?")
    #no_sense_context = 'pipoca'

    evaluation = evaluate_rag_response(question=question, answer=answer, context=context)
    print("All Good Exemple", evaluation)

    evaluation = evaluate_rag_response(question=question, answer=no_sense_answer, context=context)
    print("No sense Answer Exemple", evaluation)

    evaluation = evaluate_rag_response(question=question, answer=answer, context=no_sense_context)
    print("No sense context Exemple", evaluation)

    evaluation = evaluate_rag_response(question=no_sense_question, answer=answer, context=context)
    print("No sense question Exemple", evaluation)